<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        /* Gaya Navbar */
        .navbar {
            display: flex;
            justify-content: space-between;
            background-color: #333;
            padding: 10px;
            position: fixed;
            width: 100%;
            z-index: 1000;
        }
        .navbar a {
            color: white;
            padding: 14px 20px;
            text-decoration: none;
            text-align: center;
        }
        .navbar a:hover {
            background-color: #ddd;
            color: black;
        }
        .navbar .menu {
            display: flex;
        }
        .navbar .menu a {
            margin: 0 10px;
        }
        /* Gaya Konten */
        .content {
            padding-top: 60px; /* Untuk menghindari konten tersembunyi di belakang navbar */
        }
    </style>
    <title>Profil Desa</title>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <a href="#">Logo Desa</a>
        </div>
        <div class="menu">
            <a href="#profile">Profil Desa</a>
            <a href="#visi-misi">Visi dan Misi</a>
            <a href="#sejarah">Sejarah</a>
            <a href="#kegiatan">Kegiatan Masyarakat</a>
            <a href="#peta">Peta Administrasi</a>
        </div>
    </div>
    
    <div class="content">
        <section id="profile">
            <h2>Profil Desa</h2>
            <p>Desa ini adalah desa yang indah dengan berbagai potensi alam dan budaya.</p>
            <p>Identitas Desa: Nama Desa, Lokasi, Jumlah Penduduk, dll.</p>
        </section>
        
        <section id="visi-misi">
            <h2>Visi dan Misi</h2>
            <p>Visi: Mewujudkan desa yang sejahtera dan mandiri.</p>
            <p>Misi: Meningkatkan kualitas hidup masyarakat melalui pendidikan dan kesehatan.</p>
        </section>
        
        <section id="sejarah">
            <h2>Sejarah</h2>
            <p>Desa ini didirikan pada tahun 1900 dan memiliki sejarah yang kaya.</p>
        </section>
        
        <section id="kegiatan">
            <h2>Kegiatan Masyarakat</h2>
            <p>Berbagai kegiatan masyarakat dilakukan setiap tahun, termasuk festival budaya dan gotong royong.</p>
        </section>
        
        <section id="peta">
            <h2>Peta Administrasi</h2>
            <div id="map"></div>
        </section>
    </div>

    <script src="js/leaflet.js"></script>
    <script src="js/leaflet-control-geocoder.Geocoder.js"></script>
    <script src="js/leaflet-measure.js"></script>
    <script src="data/Fixedgeometries_1.js"></script>
    <script src="data/RW_2.js"></script>
    <script src="data/RT_3.js"></script>
    <script src="data/Clipped_4.js"></script>
    <script src="data/KebunSawahdanlahanLainnya_5.js"></script>
    <script src="data/Kanal_6.js"></script>
    <script src="data/Clipped_7.js"></script>
    <script src="data/GovermentHealty_8.js"></script>
    <script src="data/Tetangga_9.js"></script>
    <script src="data/Kuburan_10.js"></script>
    <script src="data/Penginapan_11.js"></script>
    <script src="data/PengurusWarga_12.js"></script>
    <script src="data/Lokasi1_13.js"></script>
    <script src="data/Masjid_14.js"></script>
    <script src="data/Toko_15.js"></script>
    <script src="data/WarungMakan_16.js"></script>
    <script src="data/Kesehatan_17.js"></script>
    <script src="data/Fasum_18.js"></script>
    <script src="data/Terminal_19.js"></script>
    <script src="data/Sekolah_20.js"></script>
    <script src="data/Apotek_21.js"></script>
    <script src="data/Kolam_22.js"></script>
    <script>
        var map = L.map('map', {
            zoomControl: false,
            maxZoom: 28,
            minZoom: 1
        }).fitBounds([[-7.419537434444525, 109.19809473677043], [-7.418337879792549, 109.20013357027446]]);
        
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        
        // Layer OpenStreetMap
        var layer_OpenStreetMap_0 = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 28,
            minZoom: 1,
            attribution: ''
        }).addTo(map);

        // Menambahkan GeoJSON layers
        function addGeoJsonLayer(data, styleFunction, popupFunction) {
            return new L.geoJson(data, {
                style: styleFunction,
                onEachFeature: popupFunction
            }).addTo(map);
        }

        // Contoh menambahkan layer GeoJSON
        addGeoJsonLayer(json_Fixedgeometries_1, style_Fixedgeometries_1_0, pop_Fixedgeometries_1);
        addGeoJsonLayer(json_RW_2, style_RW_2_0, pop_RW_2);
        addGeoJsonLayer(json_RT_3, style_RT_3_0, pop_RT_3);
        addGeoJsonLayer(json_Clipped_4, style_Clipped_4_0, pop_Clipped_4);
        addGeoJsonLayer(json_KebunSawahdanlahanLainnya_5, style_KebunSawahdanlahanLainnya_5_0, pop_KebunSawahdanlahanLainnya_5);
        addGeoJsonLayer(json_Kanal_6, style_Kanal_6_0, pop_Kanal_6);
        addGeoJsonLayer(json_Clipped_7, style_Clipped_7_0, pop_Clipped_7);
        addGeoJsonLayer(json_GovermentHealty_8, style_GovermentHealty_8_0, pop_GovermentHealty_8);
        addGeoJsonLayer(json_Tetangga_9, style_Tetangga_9_0, pop_Tetangga_9);
        addGeoJsonLayer(json_Kuburan_10, style_Kuburan_10_0, pop_Kuburan_10);
        addGeoJsonLayer(json_Penginapan_11, style_Penginapan_11_0, pop_Penginapan_11);
        addGeoJsonLayer(json_PengurusWarga_12, style_PengurusWarga_12_0, pop_PengurusWarga_12);
        addGeoJsonLayer(json_Lokasi1_13, style_Lokasi1_13_0, pop_Lokasi1_13);
        addGeoJsonLayer(json_Masjid_14, style_Masjid_14_0, pop_Masjid_14);
        addGeoJsonLayer(json_Toko_15, style_Toko_15_0, pop_Toko_15);
        addGeoJsonLayer(json_WarungMakan_16, style_WarungMakan_16_0, pop_WarungMakan_16);
        addGeoJsonLayer(json_Kesehatan_17, style_Kesehatan_17_0, pop_Kesehatan_17);
        addGeoJsonLayer(json_Fasum_18, style_Fasum_18_0, pop_Fasum_18);
	     addGeoJsonLayer(json_Fasum_18, style_Fasum_18_0, pop_Fasum_18);
        addGeoJsonLayer(json_Terminal_19, style_Terminal_19_0, pop_Terminal_19);
        addGeoJsonLayer(json_Sekolah_20, style_Sekolah_20_0, pop_Sekolah_20);
        addGeoJsonLayer(json_Apotek_21, style_Apotek_21_0, pop_Apotek_21);
        addGeoJsonLayer(json_Kolam_22, style_Kolam_22_0, pop_Kolam_22);

        // Fungsi untuk menampilkan popup
        function pop_Fixedgeometries_1(feature, layer) {
            var popupContent = '<table><tr><td colspan="2">' + (feature.properties['id'] !== null ? feature.properties['id'] : '') + '</td></tr></table>';
            layer.bindPopup(popupContent);
        }

        function pop_RW_2(feature, layer) {
            var popupContent = '<table><tr><td colspan="2">' + (feature.properties['RW'] !== null ? feature.properties['RW'] : '') + '</td></tr></table>';
            layer.bindPopup(popupContent);
        }

        function pop_RT_3(feature, layer) {
            var popupContent = '<table><tr><td colspan="2">' + (feature.properties['Rt'] !== null ? feature.properties['Rt'] : '') + '</td></tr></table>';
            layer.bindPopup(popupContent);
        }

        function pop_Clipped_4(feature, layer) {
            var popupContent = '<table><tr><td colspan="2">' + (feature.properties['osm_id'] !== null ? feature.properties['osm_id'] : '') + '</td></tr></table>';
            layer.bindPopup(popupContent);
        }

        // Tambahkan fungsi popup lainnya sesuai kebutuhan...

        // Menambahkan kontrol pencarian
        var osmGeocoder = new L.Control.Geocoder({
            collapsed: true,
            position: 'topleft',
            text: 'Search',
            title: 'Search for a place'
        }).addTo(map);
        document.getElementsByClassName('leaflet-control-geocoder-icon')[0].className += ' fa fa-search';
        document.getElementsByClassName('leaflet-control-geocoder-icon')[0].title += ' Search for a place';

        // Menambahkan kontrol pengukuran
        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
            secondaryLengthUnit: 'kilometers',
            primaryAreaUnit: 'sqmeters',
            secondaryAreaUnit: 'sqkilometers'
        });
        measureControl.addTo(map);

        // Menambahkan kontrol layer
        var overlaysTree = [
            { label: 'Peta Administrasi', layer: layer_OpenStreetMap_0 },
            { label: 'Geometri Tetap', layer: layer_Fixedgeometries_1 },
            { label: 'RW', layer: layer_RW_2 },
            { label: 'RT', layer: layer_RT_3 },
            { label: 'Kebun Sawah dan Lahan Lainnya', layer: layer_KebunSawahdanlahanLainnya_5 },
            { label: 'Kanal', layer: layer_Kanal_6 },
            { label: 'Fasilitas Umum', layer: layer_Fasum_18 },
            { label: 'Sekolah', layer: layer_Sekolah_20 },
            { label: 'Apotek', layer: layer_Apotek_21 },
            { label: 'Kolam', layer: layer_Kolam_22 }
        ];

        var lay = L.control.layers.tree(null, overlaysTree, {
            collapsed: true,
        });
        lay.addTo(map);
    </script>
</body>
</html>
